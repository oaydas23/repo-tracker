{% extends "layout.html" %}

{% block title %}
    Github Latest Real Changes
{% endblock %}

{% block main %}

<style>
    .bg-image {
        background-image: url("https://images.unsplash.com/photo-1454117096348-e4abbeba002c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8d2Vic2l0ZSUyMGJhY2tncm91bmR8ZW58MHx8MHx8fDA%3D&w=1000&q=80");
        background-size: cover;
        background-position: center;
    }
        .table-header {
            background-color: #ffffff;
        }

        #commit-table_wrapper .dataTables_filter {
            margin-bottom: 20px;
        }

        #commit-table_wrapper .dataTables_filter input {
            background-color: white;
          }


</style>

<body class="bg-image">
<form action="/commit" method="post">
    <div class="col-md-auto">
        <div class="p-1">
            <h1 class="d-flex justify-content-center">
                <button class="btn btn-secondary btn-lg px-40" name="refresh" value="" type="submit">Refresh Data</button>
            </h1>
        </div>
    </div>
</form>
</body>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js">
</script>

<script>
    $(document).ready(function() {
        $('#commit-table').DataTable({
            "paging": true,
                columnDefs: [{
                    targets: -1,
                    className: 'dt-head-center'
                }]
        });
    });

    </script>


<table id = "commit-table" class="table table-striped table-bordered table-sm">
    <thead>
        <tr class = table-header>
            <th class ="th-sm">Repository</th>
            <th class="w-50">Commit</th>
            <th>Author</th>
            <th>Date</th>
            <th>Archived</th>
        </tr>
    </thead>
    <tbody>
        {% for row in data %}
        <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
            <td>{{ row[3] }}</td>
            <td>{{ row[4] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}